component:
  name: api_gateway_rest_api
  mapping:
    - .
  dependsOn:
    - ../lambda
  template:
    resource:
      aws_api_gateway_rest_api:
        api_gateway_rest_api:
          name: DemoApi7356626c
          body: '${data.template_file.swagger.rendered}}'
          description: Managed by TerraHub
    output:
      id:
        value: '${aws_api_gateway_rest_api.api_gateway_rest_api.id}'
      thub_id:
        value: '${aws_api_gateway_rest_api.api_gateway_rest_api.id}'
      root_resource_id:
        value: '${aws_api_gateway_rest_api.api_gateway_rest_api.root_resource_id}'
      execution_arn:
        value: '${aws_api_gateway_rest_api.api_gateway_rest_api.execution_arn}'
      endpoint_configuration:
        value: >-
          ${aws_api_gateway_rest_api.api_gateway_rest_api.endpoint_configuration}
      created_date:
        value: '${aws_api_gateway_rest_api.api_gateway_rest_api.created_date}'
    terraform:
      backend:
        local:
          path: /tmp/.terrahub/local_backend/api_gateway_rest_api/terraform.tfstate
    data:
      template_file:
        swagger:
          template: '${file("${local.project["path"]}/api_swagger.json.tpl")}'
          vars: '${map("account_id","${local.account_id}")}'
